# ========================================
# Конфигурация для работы с API МойСклад
# ========================================

# === API МойСклад ===

# URL API для отчета об остатках
API_URL=https://api.moysklad.ru/api/remap/1.2/report/stock/all

# --- Вариант 1: Basic Auth (логин и пароль) ---
# Раскомментируйте и заполните если используете Basic Auth:
API_LOGIN=admin@your-company
API_PASSWORD=your_password_here

# --- Вариант 2: Bearer Token (токен доступа) ---
# Раскомментируйте и заполните если используете токен:
# API_TOKEN=your_access_token_here

# ВАЖНО: Используйте ЛИБО токен, ЛИБО логин/пароль (не оба варианта)

# --- Дополнительные параметры API ---

# Момент времени для запроса остатков (опционально)
# Формат: YYYY-MM-DD HH:MM:SS
# Если не указан, используется текущая дата/время
# Пример: API_MOMENT=2025-12-01 07:00:00
# API_MOMENT=


# === База данных MySQL ===

DB_HOST=localhost
DB_PORT=3306
DB_NAME=stock_sync
DB_USER=root
DB_PASSWORD=your_mysql_password_here


# === Настройки приложения ===

# Порт Express сервера
PORT=3000

# Расписание синхронизации (формат cron)
# По умолчанию: каждый день в 00:00
CRON_SCHEDULE=0 0 * * *

# Примеры других расписаний:
# CRON_SCHEDULE=0 2 * * *        # каждый день в 02:00
# CRON_SCHEDULE=0 */6 * * *      # каждые 6 часов
# CRON_SCHEDULE=30 8 * * 1-5     # в 08:30 по будням
# CRON_SCHEDULE=0 0,12 * * *     # в 00:00 и 12:00

# Путь к файлу логов
LOG_FILE=logs/sync.log

# Часовой пояс (опционально)
TZ=Europe/Moscow


# ========================================
# Инструкции:
# ========================================
#
# 1. Скопируйте этот файл как .env:
#    copy env.moysklad.example.txt .env
#
# 2. Заполните параметры API МойСклад:
#    - Для Basic Auth: укажите API_LOGIN и API_PASSWORD
#    - Для Bearer Token: укажите API_TOKEN
#
# 3. Заполните параметры MySQL
#
# 4. Настройте расписание CRON_SCHEDULE если нужно
#
# 5. Проверьте подключение:
#    npm run test:db
#    npm run test:api
#
# 6. Запустите сервис:
#    npm start
#
# Подробнее об авторизации: см. файл MOYSKLAD_AUTH.md
#

